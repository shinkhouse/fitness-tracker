"use strict";(self.webpackChunkfitness_tracker=self.webpackChunkfitness_tracker||[]).push([[336],{1435:(D,h,e)=>{e.d(h,{p:()=>d});var u=e(8966),n=e(5e3),i=e(7423);let m=(()=>{class C{constructor(s){this.dialogData=s}}return C.\u0275fac=function(s){return new(s||C)(n.Y36(u.WI))},C.\u0275cmp=n.Xpm({type:C,selectors:[["app-stop-training"]],decls:10,vars:3,consts:[["mat-dialog-title",""],["mat-dialog-actions",""],["mat-button","",3,"mat-dialog-close"]],template:function(s,c){1&s&&(n.TgZ(0,"h1",0),n._uU(1,"Are you sure you want to stop your workout?"),n.qZA(),n.TgZ(2,"mat-dialog-content"),n.TgZ(3,"p"),n._uU(4),n.qZA(),n.qZA(),n.TgZ(5,"div",1),n.TgZ(6,"button",2),n._uU(7,"Yes"),n.qZA(),n.TgZ(8,"button",2),n._uU(9,"No"),n.qZA(),n.qZA()),2&s&&(n.xp6(4),n.hij("You already got ",c.dialogData.progress,"% progress"),n.xp6(2),n.Q6J("mat-dialog-close",!0),n.xp6(2),n.Q6J("mat-dialog-close",!1))},directives:[u.uh,u.xY,u.H8,i.lW,u.ZT],styles:[""]}),C})();var t=e(4278),T=e(6475),v=e(6531),f=e(7093),a=e(773),g=e(9808);let d=(()=>{class C{constructor(s,c,M){this.dialog=s,this.exerciseService=c,this.store=M,this.progress=0,this.timer=0}ngOnInit(){this.startOrResumeTimer()}startOrResumeTimer(){this.store.select(t.l3).subscribe(s=>{this.timer=window.setInterval(()=>{this.progress+=1,this.progress>=100&&(this.exerciseService.completeExercise(),window.clearInterval(this.timer))},s.duration/100*1e3)})}stopWorkout(){window.clearInterval(this.timer),this.dialog.open(m,{data:{progress:this.progress}}).afterClosed().subscribe(s=>{s?this.exerciseService.cancelExercise(this.progress):this.startOrResumeTimer()})}}return C.\u0275fac=function(s){return new(s||C)(n.Y36(u.uw),n.Y36(T.z),n.Y36(v.yh))},C.\u0275cmp=n.Xpm({type:C,selectors:[["app-current-training"]],decls:9,vars:4,consts:[["fxLayout","column","fxLayoutAlign","center center","fxLayoutGap","16px",1,"current-training"],["mode","determinate",3,"value"],["mat-raised-button","","color","accent",3,"click"]],template:function(s,c){1&s&&(n.TgZ(0,"section",0),n._UZ(1,"mat-progress-spinner",1),n.TgZ(2,"h1"),n._uU(3),n.ALo(4,"number"),n.qZA(),n.TgZ(5,"h2"),n._uU(6,"Keep on going! You can do it!"),n.qZA(),n.TgZ(7,"button",2),n.NdJ("click",function(){return c.stopWorkout()}),n._uU(8,"Stop Training"),n.qZA(),n.qZA()),2&s&&(n.xp6(1),n.Q6J("value",c.progress),n.xp6(2),n.hij("",n.lcZ(4,2,c.progress),"%"))},directives:[f.xw,f.Wh,f.SQ,a.Ou,i.lW],pipes:[g.JJ],styles:[".current-training[_ngcontent-%COMP%]{padding:30px}"]}),C})()},2433:(D,h,e)=>{e.r(h),e.d(h,{CurrentTrainingModule:()=>f});var u=e(9808),n=e(1402),i=e(1435),m=e(5e3);const t=[{path:"",component:i.p}];let T=(()=>{class a{}return a.\u0275fac=function(d){return new(d||a)},a.\u0275mod=m.oAB({type:a}),a.\u0275inj=m.cJS({imports:[[n.Bz.forChild(t)],n.Bz]}),a})();var v=e(7885);let f=(()=>{class a{}return a.\u0275fac=function(d){return new(d||a)},a.\u0275mod=m.oAB({type:a}),a.\u0275inj=m.cJS({imports:[[u.ez,T,v.m]]}),a})()},4461:(D,h,e)=>{e.d(h,{$:()=>s});var u=e(4278),n=e(5e3),i=e(6475),m=e(6531),t=e(7093),T=e(3075),v=e(9224),f=e(7322),a=e(4107),g=e(9808),d=e(508),C=e(7423);function x(c,M){if(1&c&&(n.TgZ(0,"mat-option",9),n._uU(1),n.qZA()),2&c){const Z=M.$implicit;n.Q6J("value",Z.id),n.xp6(1),n.Oqu(Z.name)}}let s=(()=>{class c{constructor(Z,y){this.exerciseService=Z,this.store=y}ngOnInit(){this.availableExercises$=this.store.select(u.Ev),this.exerciseService.fetchAvailableExercises()}onStartTraining(Z){this.exerciseService.startExercise(Z.value.exercise)}}return c.\u0275fac=function(Z){return new(Z||c)(n.Y36(i.z),n.Y36(m.yh))},c.\u0275cmp=n.Xpm({type:c,selectors:[["app-new-training"]],decls:16,vars:4,consts:[["fxLayout","","fxLayoutAlign","center",1,"new-training"],[3,"ngSubmit"],["exerciseForm","ngForm"],["fxFlex.xs","100%","fxFlex","400px"],["fxLayoutAlign","center"],["appearance","fill"],["ngModel","","name","exercise","required",""],[3,"value",4,"ngFor","ngForOf"],["type","submit","mat-button","",3,"disabled"],[3,"value"]],template:function(Z,y){if(1&Z){const O=n.EpF();n.TgZ(0,"section",0),n.TgZ(1,"form",1,2),n.NdJ("ngSubmit",function(){n.CHM(O);const r=n.MAs(2);return y.onStartTraining(r)}),n.TgZ(3,"mat-card",3),n.TgZ(4,"mat-card-title",4),n._uU(5,"Time to start a workout!"),n.qZA(),n.TgZ(6,"mat-card-content",4),n.TgZ(7,"mat-form-field",5),n.TgZ(8,"mat-label"),n._uU(9,"Select an option"),n.qZA(),n.TgZ(10,"mat-select",6),n.YNc(11,x,2,2,"mat-option",7),n.ALo(12,"async"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(13,"mat-card-actions",4),n.TgZ(14,"button",8),n._uU(15,"Start"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA()}if(2&Z){const O=n.MAs(2);n.xp6(11),n.Q6J("ngForOf",n.lcZ(12,2,y.availableExercises$)),n.xp6(3),n.Q6J("disabled",O.invalid)}},directives:[t.xw,t.Wh,T._Y,T.JL,T.F,v.a8,t.yH,v.n5,v.dn,f.KE,f.hX,a.gD,T.JJ,T.On,T.Q7,g.sg,d.ey,v.hq,C.lW],pipes:[g.Ov],styles:[".new-training[_ngcontent-%COMP%]{padding:30px}"]}),c})()},8446:(D,h,e)=>{e.r(h),e.d(h,{NewTrainingModule:()=>f});var u=e(9808),n=e(1402),i=e(4461),m=e(5e3);const t=[{path:"",component:i.$}];let T=(()=>{class a{}return a.\u0275fac=function(d){return new(d||a)},a.\u0275mod=m.oAB({type:a}),a.\u0275inj=m.cJS({imports:[[n.Bz.forChild(t)],n.Bz]}),a})();var v=e(7885);let f=(()=>{class a{}return a.\u0275fac=function(d){return new(d||a)},a.\u0275mod=m.oAB({type:a}),a.\u0275inj=m.cJS({imports:[[u.ez,T,v.m]]}),a})()},1015:(D,h,e)=>{e.d(h,{A:()=>R});var u=e(9062),n=e(4847),i=e(4999),m=e(4278),t=e(5e3),T=e(6475),v=e(6531),f=e(7093),a=e(7322),g=e(7531),d=e(9808);function C(o,p){1&o&&(t.TgZ(0,"mat-header-cell",14),t._uU(1,"Date"),t.qZA())}function x(o,p){if(1&o&&(t.TgZ(0,"mat-cell"),t._uU(1),t.ALo(2,"date"),t.qZA()),2&o){const l=p.$implicit;t.xp6(1),t.Oqu(t.lcZ(2,1,l.date.toMillis()))}}function s(o,p){1&o&&(t.TgZ(0,"mat-header-cell",14),t._uU(1,"Name"),t.qZA())}function c(o,p){if(1&o&&(t.TgZ(0,"mat-cell"),t._uU(1),t.qZA()),2&o){const l=p.$implicit;t.xp6(1),t.Oqu(l.name)}}function M(o,p){1&o&&(t.TgZ(0,"mat-header-cell",14),t._uU(1,"Calories"),t.qZA())}function Z(o,p){if(1&o&&(t.TgZ(0,"mat-cell"),t._uU(1),t.ALo(2,"number"),t.qZA()),2&o){const l=p.$implicit;t.xp6(1),t.Oqu(t.lcZ(2,1,l.calories))}}function y(o,p){1&o&&(t.TgZ(0,"mat-header-cell",14),t._uU(1,"Duration"),t.qZA())}function O(o,p){if(1&o&&(t.TgZ(0,"mat-cell"),t._uU(1),t.ALo(2,"number"),t.qZA()),2&o){const l=p.$implicit;t.xp6(1),t.Oqu(t.lcZ(2,1,l.duration))}}function B(o,p){1&o&&(t.TgZ(0,"mat-header-cell",14),t._uU(1,"State"),t.qZA())}function r(o,p){if(1&o&&(t.TgZ(0,"mat-cell"),t._uU(1),t.qZA()),2&o){const l=p.$implicit;t.xp6(1),t.Oqu(l.state)}}function P(o,p){1&o&&t._UZ(0,"mat-header-row")}function A(o,p){1&o&&t._UZ(0,"mat-row")}const _=function(){return[1,5,10,20]};let R=(()=>{class o{constructor(l,E){this.exerciseService=l,this.store=E,this.pastExercises=[],this.displayedColumns=["date","name","duration","calories","state"],this.dataSource=new i.by}ngOnInit(){this.getPastExercises()}ngAfterViewInit(){this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator}getPastExercises(){this.exerciseService.fetchPastExercises(),this.store.select(m.JP).subscribe(l=>{this.pastExercises=l,this.dataSource.data=this.pastExercises})}doFilter(l){const E=l.target.value.toLowerCase().trim();this.dataSource.filter=E.trim().toLowerCase()}}return o.\u0275fac=function(l){return new(l||o)(t.Y36(T.z),t.Y36(v.yh))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-past-training"]],viewQuery:function(l,E){if(1&l&&(t.Gf(n.YE,5),t.Gf(u.NW,5)),2&l){let U;t.iGM(U=t.CRH())&&(E.sort=U.first),t.iGM(U=t.CRH())&&(E.paginator=U.first)}},decls:24,vars:6,consts:[["fxLayout","row","fxLayoutAlign","start center"],["appearance","fill","fxFlex",""],["matInput","","type","text",3,"keyup"],["matSort","",3,"dataSource"],["matColumnDef","date"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","name"],["matColumnDef","calories"],["matColumnDef","duration"],["matColumnDef","state"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[3,"pageSize","pageSizeOptions"],["mat-sort-header",""]],template:function(l,E){1&l&&(t.TgZ(0,"div",0),t.TgZ(1,"mat-form-field",1),t.TgZ(2,"mat-label"),t._uU(3,"Filter"),t.qZA(),t.TgZ(4,"input",2),t.NdJ("keyup",function(S){return E.doFilter(S)}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(5,"mat-table",3),t.ynx(6,4),t.YNc(7,C,2,0,"mat-header-cell",5),t.YNc(8,x,3,3,"mat-cell",6),t.BQk(),t.ynx(9,7),t.YNc(10,s,2,0,"mat-header-cell",5),t.YNc(11,c,2,1,"mat-cell",6),t.BQk(),t.ynx(12,8),t.YNc(13,M,2,0,"mat-header-cell",5),t.YNc(14,Z,3,3,"mat-cell",6),t.BQk(),t.ynx(15,9),t.YNc(16,y,2,0,"mat-header-cell",5),t.YNc(17,O,3,3,"mat-cell",6),t.BQk(),t.ynx(18,10),t.YNc(19,B,2,0,"mat-header-cell",5),t.YNc(20,r,2,1,"mat-cell",6),t.BQk(),t.YNc(21,P,1,0,"mat-header-row",11),t.YNc(22,A,1,0,"mat-row",12),t.qZA(),t._UZ(23,"mat-paginator",13)),2&l&&(t.xp6(5),t.Q6J("dataSource",E.dataSource),t.xp6(16),t.Q6J("matHeaderRowDef",E.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",E.displayedColumns),t.xp6(1),t.Q6J("pageSize",5)("pageSizeOptions",t.DdM(5,_)))},directives:[f.xw,f.Wh,a.KE,f.yH,a.hX,g.Nt,i.BZ,n.YE,i.w1,i.fO,i.ge,n.nU,i.Dz,i.ev,i.as,i.XQ,i.nj,i.Gk,u.NW],pipes:[d.uU,d.JJ],styles:[""]}),o})()},225:(D,h,e)=>{e.r(h),e.d(h,{PastTrainingModule:()=>f});var u=e(9808),n=e(1402),i=e(1015),m=e(5e3);const t=[{path:"",component:i.A}];let T=(()=>{class a{}return a.\u0275fac=function(d){return new(d||a)},a.\u0275mod=m.oAB({type:a}),a.\u0275inj=m.cJS({imports:[[n.Bz.forChild(t)],n.Bz]}),a})();var v=e(7885);let f=(()=>{class a{}return a.\u0275fac=function(d){return new(d||a)},a.\u0275mod=m.oAB({type:a}),a.\u0275inj=m.cJS({imports:[[u.ez,T,v.m]]}),a})()},7336:(D,h,e)=>{e.r(h),e.d(h,{TrainingModule:()=>B});var u=e(1402),n=e(4278),i=e(5e3),m=e(6475),t=e(6531),T=e(9808),v=e(3251),f=e(4461),a=e(1015),g=e(1435);function d(r,P){1&r&&(i.TgZ(0,"mat-tab-group"),i.TgZ(1,"mat-tab",1),i._UZ(2,"app-new-training"),i.qZA(),i.TgZ(3,"mat-tab",2),i._UZ(4,"app-past-training"),i.qZA(),i.qZA())}function C(r,P){1&r&&i._UZ(0,"app-current-training")}const s=[{path:"",component:(()=>{class r{constructor(A,_){this.exercise=A,this.store=_}ngOnInit(){this.ongoingTraining$=this.store.select(n.aH)}}return r.\u0275fac=function(A){return new(A||r)(i.Y36(m.z),i.Y36(t.yh))},r.\u0275cmp=i.Xpm({type:r,selectors:[["app-training"]],decls:4,vars:6,consts:[[4,"ngIf"],["label","New Exercise"],["label","Past Exercise"]],template:function(A,_){1&A&&(i.YNc(0,d,5,0,"mat-tab-group",0),i.ALo(1,"async"),i.YNc(2,C,1,0,"app-current-training",0),i.ALo(3,"async")),2&A&&(i.Q6J("ngIf",!i.lcZ(1,2,_.ongoingTraining$)),i.xp6(2),i.Q6J("ngIf",i.lcZ(3,4,_.ongoingTraining$)))},directives:[T.O5,v.SP,v.uX,f.$,a.A,g.p],pipes:[T.Ov],styles:[""]}),r})()},{path:"new",loadChildren:()=>Promise.resolve().then(e.bind(e,8446)).then(r=>r.NewTrainingModule)},{path:"current",loadChildren:()=>Promise.resolve().then(e.bind(e,2433)).then(r=>r.CurrentTrainingModule)},{path:"past",loadChildren:()=>Promise.resolve().then(e.bind(e,225)).then(r=>r.PastTrainingModule)}];let c=(()=>{class r{}return r.\u0275fac=function(A){return new(A||r)},r.\u0275mod=i.oAB({type:r}),r.\u0275inj=i.cJS({imports:[[u.Bz.forChild(s)],u.Bz]}),r})();var M=e(2433),Z=e(225),y=e(8446),O=e(7885);let B=(()=>{class r{}return r.\u0275fac=function(A){return new(A||r)},r.\u0275mod=i.oAB({type:r}),r.\u0275inj=i.cJS({imports:[[c,O.m,M.CurrentTrainingModule,Z.PastTrainingModule,y.NewTrainingModule,t.Aw.forFeature("training",n.ue)]]}),r})()}}]);